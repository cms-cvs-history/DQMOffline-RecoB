#! /bin/env cmsRun
process validation = {

    #keep the logging output to a nice level
    include "FWCore/MessageLogger/data/MessageLogger.cfi"

    # events to analyze
    untracked PSet maxEvents = { untracked int32 input = -1 }
    source = PoolSource {
        untracked vstring fileNames = { }
    }
    include "DQMOffline/RecoB/test/relval_qcd.cff"
    #include "DQMOffline/RecoB/test/relval_ttbar.cff"

    # default configuration with fake conditions
    include "Configuration/StandardSequences/data/FakeConditions.cff"
    include "Configuration/StandardSequences/data/Reconstruction.cff"

    # (re)run reconstruction and b-tagging algorithms
    path reco = { ckftracks, offlineBeamSpot, recopixelvertexing, recoJetAssociations }
    path btag = { btagging }

    # Analysis and validation plots
    include "DQMOffline/RecoB/data/bTagAnalysis.cfi"
    replace bTagAnalysis.producePs = false

    # module execution
    path plots = { bTagAnalysis }

    schedule = { reco, btag, plots }
}
